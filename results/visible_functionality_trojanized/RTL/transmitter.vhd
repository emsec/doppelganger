library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;
use IEEE.math_real.all;

----------------------------------------------
-- VHDL code generated by MHDL v0.1.3.4
----------------------------------------------

entity Transmitter is
    generic (
        BUS_SIZE : natural
    );
    port (
        clk            : in  std_logic;
        rst            : in  std_logic;
        UART_TX        : out std_logic;
        read_from_bus  : in  std_logic;
        bus_line       : in  std_logic_vector (BUS_SIZE - 1 downto 0);
        ready_for_data : out std_logic
    );
end Transmitter;

architecture arch of Transmitter is
    component Extended_UART_Transmitter
        generic (
            CLK_FREQUENCY : natural;
            BAUD_RATE     : natural;
            BUS_SIZE      : natural
        );
        port (
            clk            : in  std_logic;
            rst            : in  std_logic;
            RS232_BIT      : out std_logic;
            send_enable    : in  std_logic;
            bus_line       : in  std_logic_vector (BUS_SIZE - 1 downto 0);
            ready_for_data : out std_logic
        );
    end component;
    constant MHZ : natural := 100;
    
    signal inst_transmitter_ready_for_data : std_logic;
begin
    inst_transmitter : Extended_UART_Transmitter
    generic map (
        CLK_FREQUENCY => MHZ * 1000000,
        BAUD_RATE     => 115200,
        BUS_SIZE      => BUS_SIZE
    )
    port map (
        clk            => clk,
        rst            => rst,
        RS232_BIT      => UART_TX,
        send_enable    => read_from_bus,
        bus_line       => bus_line,
        ready_for_data => inst_transmitter_ready_for_data
    );
    
    ready_for_data <= inst_transmitter_ready_for_data;
end arch;

